<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ãrbol Interactivo de Decisiones</title>
    <link href="https://fonts.googleapis.com/css2?family=Gluten:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸŒ³ Ãrbol Proyecto de Vida</h1>
            <p>Construye tu futuro desde las raÃ­ces hasta las ramas mÃ¡s altas</p>
            <small>ğŸŒ± RaÃ­ces: Valores y Fundamentos | ğŸŒ³ Tronco: Objetivo Principal | ğŸŒ¿ Ramas: Resultados y Logros</small>
        </header>
        
        <div class="controls">
            <button id="expandAll">ğŸŒ¿ Expandir Ramas</button>
            <button id="collapseAll">ğŸŒ³ Ver Tronco</button>
            <button id="centerTree">ğŸ¯ Centrar Ãrbol</button>
            <button id="editMode">âœï¸ Modo EdiciÃ³n</button>
            <button id="addNode" style="display: none;">â• Agregar Nodo</button>
            <button id="generateIdeas" style="display: none;">ğŸ’¡ Generar Ideas</button>
            <button id="saveTree">ğŸ’¾ Guardar Cambios</button>
        </div>
        
        <div id="tree-container">
            <div class="tree-legend">
                <h4>ğŸŒ³ Ãrbol OrgÃ¡nico</h4>
                <div style="background: rgba(76, 175, 80, 0.2); padding: 5px; border-radius: 4px; margin-bottom: 5px;">
                    <div class="legend-item">
                        <div class="legend-color branch"></div>
                        <span>ï¿½ ZONA VERDE - Ramas y Logros</span>
                    </div>
                </div>
                <div style="background: rgba(33, 150, 243, 0.2); padding: 5px; border-radius: 4px; margin-bottom: 5px;">
                    <div class="legend-item">
                        <div class="legend-color trunk"></div>
                        <span>ï¿½ ZONA AZUL - Tronco Central</span>
                    </div>
                </div>
                <div style="background: rgba(255, 235, 59, 0.2); padding: 5px; border-radius: 4px; margin-bottom: 10px;">
                    <div class="legend-item">
                        <div class="legend-color roots"></div>
                        <span>ï¿½ ZONA AMARILLA - RaÃ­ces</span>
                    </div>
                </div>
                <div style="font-size: 0.7rem; color: #666; text-align: center;">
                    ğŸŒ¿ Estructura Vertical OrgÃ¡nica ğŸŒ¿<br>
                    â†‘ Ramas â†’ ğŸŒ³ Tronco â†’ RaÃ­ces â†“
                </div>
            </div>
            <svg id="tree-svg"></svg>
        </div>
        
        <div id="info-panel" class="info-panel">
            <div class="info-header">
                <h3 id="info-title">InformaciÃ³n del Nodo</h3>
                <button id="close-panel">&times;</button>
            </div>
            <div class="info-content">
                <div id="info-description">Selecciona un nodo para ver informaciÃ³n detallada</div>
                <div id="info-details"></div>
                <div class="edit-section" id="edit-section" style="display: none;">
                    <h4 id="edit-title">âœï¸ Editar Nodo</h4>
                    <label for="edit-name">Nombre:</label>
                    <input type="text" id="edit-name" placeholder="Nombre del nodo" maxlength="50" required>
                    <div class="field-help">MÃ­nimo 2 caracteres, mÃ¡ximo 50.</div>
                    
                    <label for="edit-description">DescripciÃ³n:</label>
                    <textarea id="edit-description" placeholder="DescripciÃ³n detallada"></textarea>
                    <div class="field-help">Explica el propÃ³sito y contexto de este nodo.</div>
                    <label>Tipo:</label>
                    <select id="edit-type">
                        <option value="root">ğŸŒ³ Tronco (Objetivo Principal)</option>
                        <option value="roots">ğŸŒ± RaÃ­ces (Valores/Fundamentos)</option>
                        <option value="branch">ğŸŒ¿ Rama (Resultado/Logro)</option>
                        <option value="leaf">ğŸƒ Hoja (AcciÃ³n EspecÃ­fica)</option>
                    </select>
                    <div class="edit-buttons">
                        <button id="save-node">ğŸ’¾ Guardar</button>
                        <button id="cancel-edit">âŒ Cancelar</button>
                        <button id="delete-node">ğŸ—‘ï¸ Eliminar</button>
                        <button id="generate-content" style="display: none;">ğŸ¯ Auto-generar</button>
                    </div>
                </div>
                
                <div class="create-section" id="create-section" style="display: none;">
                    <h4>â• Crear Nuevo Nodo</h4>
                    <label>Nodo Padre:</label>
                    <input type="text" id="create-parent" readonly placeholder="Selecciona un nodo padre">
                    <label for="create-name">Nombre:</label>
                    <input type="text" id="create-name" placeholder="Ej: Desarrollo Personal, Carrera Profesional..." maxlength="50" required>
                    <div class="field-help">MÃ­nimo 2 caracteres, mÃ¡ximo 50. Sea especÃ­fico y claro.</div>
                    
                    <label for="create-description">DescripciÃ³n:</label>
                    <textarea id="create-description" placeholder="Describe quÃ© significa este nodo para tu proyecto de vida..."></textarea>
                    <div class="field-help">Opcional pero recomendado. Ayuda a recordar el propÃ³sito del nodo.</div>
                    <label>Tipo:</label>
                    <select id="create-type">
                        <option value="roots">ğŸŒ± RaÃ­ces (Valores/Fundamentos)</option>
                        <option value="branch">ğŸŒ¿ Rama (Resultado/Logro)</option>
                        <option value="leaf">ğŸƒ Hoja (AcciÃ³n EspecÃ­fica)</option>
                    </select>
                    <div class="create-buttons">
                        <button id="create-node">â• Crear Nodo</button>
                        <button id="cancel-create">âŒ Cancelar</button>
                    </div>
                </div>

                <div class="generate-section" id="generate-section" style="display: none;">
                    <h4>ğŸ’¡ Generar Ideas AutomÃ¡ticamente</h4>
                    <label>Ãrea de enfoque:</label>
                    <select id="generate-area">
                        <option value="valores">ğŸŒ± Valores Personales</option>
                        <option value="profesional">ğŸ’¼ Desarrollo Profesional</option>
                        <option value="bienestar">â¤ï¸ Bienestar Personal</option>
                        <option value="financiero">ğŸ’° Estabilidad Financiera</option>
                        <option value="relaciones">ğŸ¤ Relaciones</option>
                        <option value="educacion">ğŸ“ EducaciÃ³n</option>
                        <option value="creatividad">ğŸ¨ Creatividad</option>
                    </select>
                    <label>Contexto (opcional):</label>
                    <textarea id="generate-context" placeholder="Describe tu situaciÃ³n actual o objetivos especÃ­ficos..."></textarea>
                    <div class="generate-buttons">
                        <button id="generate-ideas">âœ¨ Generar Ideas</button>
                        <button id="cancel-generate">âŒ Cancelar</button>
                    </div>
                    <div id="generated-ideas" class="generated-ideas"></div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/config.js"></script>
    <script src="js/tree-data-new.js"></script>
    <script src="js/main-editable.js"></script>
</body>
</html>